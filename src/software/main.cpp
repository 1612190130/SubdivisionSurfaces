#include "visualization/gl_viewer.h"
#include "base/model.h"


int main() {
    GLRendering::Viewer& viewer =  GLRendering::Viewer::Instance();
    Model model;
    //ConvertToTriangularMesh 
    std::shared_ptr<std::vector<float>> triangular_mesh_data;
    float vertices[] = {
        -0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f, 0.0f, 0.1f, 0.5f,
         0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f, 0.0f, 0.1f, 0.5f,
         0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f, 0.0f, 0.1f, 0.5f,
         0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f, 0.0f, 0.1f, 0.5f,
        -0.5f,  0.5f, -0.5f,  0.0f,  0.0f, -1.0f, 0.0f, 0.1f, 0.5f,
        -0.5f, -0.5f, -0.5f,  0.0f,  0.0f, -1.0f, 0.0f, 0.1f, 0.5f,

        -0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f, 0.3f, 0.3f, 0.5f,
         0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f, 0.3f, 0.3f, 0.5f,
         0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f, 0.3f, 0.3f, 0.5f,
         0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f, 0.3f, 0.3f, 0.5f,
        -0.5f,  0.5f,  0.5f,  0.0f,  0.0f,  1.0f, 0.3f, 0.3f, 0.5f,
        -0.5f, -0.5f,  0.5f,  0.0f,  0.0f,  1.0f, 0.3f, 0.3f, 0.5f,

        -0.5f,  0.5f,  0.5f, -1.0f,  0.0f,  0.0f, 0.1f, 0.3f, 0.5f,
        -0.5f,  0.5f, -0.5f, -1.0f,  0.0f,  0.0f, 0.1f, 0.3f, 0.5f,
        -0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f, 0.1f, 0.3f, 0.5f,
        -0.5f, -0.5f, -0.5f, -1.0f,  0.0f,  0.0f, 0.1f, 0.3f, 0.5f,
        -0.5f, -0.5f,  0.5f, -1.0f,  0.0f,  0.0f, 0.1f, 0.3f, 0.5f,
        -0.5f,  0.5f,  0.5f, -1.0f,  0.0f,  0.0f, 0.1f, 0.3f, 0.5f,

         0.5f,  0.5f,  0.5f,  1.0f,  0.0f,  0.0f, 0.6f, 0.3f, 0.2f,
         0.5f,  0.5f, -0.5f,  1.0f,  0.0f,  0.0f, 0.6f, 0.3f, 0.2f,
         0.5f, -0.5f, -0.5f,  1.0f,  0.0f,  0.0f, 0.6f, 0.3f, 0.2f,
         0.5f, -0.5f, -0.5f,  1.0f,  0.0f,  0.0f, 0.6f, 0.3f, 0.2f,
         0.5f, -0.5f,  0.5f,  1.0f,  0.0f,  0.0f, 0.6f, 0.3f, 0.2f,
         0.5f,  0.5f,  0.5f,  1.0f,  0.0f,  0.0f, 0.6f, 0.3f, 0.2f,

        -0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f, 0.7f, 0.6f, 0.2f,
         0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f, 0.7f, 0.6f, 0.2f,
         0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f, 0.7f, 0.6f, 0.2f,
         0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f, 0.7f, 0.6f, 0.2f,
        -0.5f, -0.5f,  0.5f,  0.0f, -1.0f,  0.0f, 0.7f, 0.6f, 0.2f,
        -0.5f, -0.5f, -0.5f,  0.0f, -1.0f,  0.0f, 0.7f, 0.6f, 0.2f,

        -0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f, 0.7f, 0.6f, 0.6f,
         0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f, 0.7f, 0.6f, 0.6f,
         0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f, 0.7f, 0.6f, 0.6f,
         0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f, 0.7f, 0.6f, 0.6f,
        -0.5f,  0.5f,  0.5f,  0.0f,  1.0f,  0.0f, 0.7f, 0.6f, 0.6f,
        -0.5f,  0.5f, -0.5f,  0.0f,  1.0f,  0.0f, 0.7f, 0.6f, 0.6f
    };
    viewer.SetUp(800, 600, "../../src/visualization/model_v.glsl", "../../src/visualization/model_f.glsl");
    viewer.CreateMeshPNC(vertices, 9, 36, glm::mat4(1.0));
    viewer.Run();
}